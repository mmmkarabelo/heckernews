--
-- Script was generated by Devart dbForge Studio 2019 for MySQL, Version 8.1.45.0
-- Product home page: http://www.devart.com/dbforge/mysql/studio
-- Script date 27/01/2020 12:05:16
-- Server version: 5.5.5-10.1.29-MariaDB
-- Client version: 4.1
--

-- 
-- Disable foreign keys
-- 
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;

-- 
-- Set SQL mode
-- 
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;

-- 
-- Set character set the client will use to send SQL statements to the server
--
SET NAMES 'utf8';

--
-- Set default database
--
USE heckernews;

--
-- Drop table `asks`
--
DROP TABLE IF EXISTS asks;

--
-- Drop table `comments`
--
DROP TABLE IF EXISTS comments;

--
-- Drop table `failed_jobs`
--
DROP TABLE IF EXISTS failed_jobs;

--
-- Drop table `jobs`
--
DROP TABLE IF EXISTS jobs;

--
-- Drop table `migrations`
--
DROP TABLE IF EXISTS migrations;

--
-- Drop table `parts`
--
DROP TABLE IF EXISTS parts;

--
-- Drop table `password_resets`
--
DROP TABLE IF EXISTS password_resets;

--
-- Drop table `polls`
--
DROP TABLE IF EXISTS polls;

--
-- Drop table `stories`
--
DROP TABLE IF EXISTS stories;

--
-- Drop table `users`
--
DROP TABLE IF EXISTS users;

--
-- Set default database
--
USE heckernews;

--
-- Create table `users`
--
CREATE TABLE users (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(191) NOT NULL,
  email VARCHAR(191) NOT NULL,
  email_verified_at TIMESTAMP NULL DEFAULT NULL,
  password VARCHAR(191) NOT NULL,
  delay INT(11) NOT NULL DEFAULT 0,
  karma INT(11) NOT NULL DEFAULT 0,
  submitted VARCHAR(191) NOT NULL DEFAULT '0',
  about VARCHAR(191) NOT NULL DEFAULT 'None',
  remember_token VARCHAR(100) DEFAULT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `users_email_unique` on table `users`
--
ALTER TABLE users 
  ADD UNIQUE INDEX users_email_unique(email);

--
-- Create table `stories`
--
CREATE TABLE stories (
  story_id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  title VARCHAR(191) NOT NULL,
  text MEDIUMTEXT NOT NULL,
  score INT(11) NOT NULL DEFAULT 0,
  type VARCHAR(191) DEFAULT 'Story',
  url VARCHAR(191) DEFAULT NULL,
  descendants INT(11) NOT NULL DEFAULT 0,
  comment_kids ENUM('foo','bar') NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  user_id INT(11) NOT NULL,
  PRIMARY KEY (story_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 4,
AVG_ROW_LENGTH = 5461,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `polls`
--
CREATE TABLE polls (
  poll_id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  Pollable_id BIGINT(20) UNSIGNED NOT NULL,
  Pollable_type MEDIUMTEXT NOT NULL,
  score INT(11) NOT NULL,
  text VARCHAR(191) NOT NULL,
  time VARCHAR(191) NOT NULL,
  title VARCHAR(191) NOT NULL,
  type VARCHAR(191) NOT NULL DEFAULT 'Polls',
  comment_kids ENUM('foo','bar') NOT NULL,
  poll_parts ENUM('foo','bar') NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  user_id INT(11) NOT NULL,
  PRIMARY KEY (poll_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `password_resets`
--
CREATE TABLE password_resets (
  email VARCHAR(191) NOT NULL,
  token VARCHAR(191) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create index `password_resets_email_index` on table `password_resets`
--
ALTER TABLE password_resets 
  ADD INDEX password_resets_email_index(email);

--
-- Create table `parts`
--
CREATE TABLE parts (
  part_id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  text MEDIUMTEXT NOT NULL,
  score INT(11) DEFAULT NULL,
  time TEXT NOT NULL,
  type VARCHAR(191) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  user_id INT(11) NOT NULL,
  PRIMARY KEY (part_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `migrations`
--
CREATE TABLE migrations (
  id INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  migration VARCHAR(191) NOT NULL,
  batch INT(11) NOT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 58,
AVG_ROW_LENGTH = 1170,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `jobs`
--
CREATE TABLE jobs (
  job_id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  score INT(11) NOT NULL,
  text MEDIUMTEXT NOT NULL,
  title VARCHAR(191) NOT NULL,
  url VARCHAR(191) NOT NULL,
  type VARCHAR(191) NOT NULL DEFAULT 'Job',
  time VARCHAR(191) NOT NULL,
  comment_kids ENUM('foo','bar') NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  user_id INT(11) NOT NULL,
  PRIMARY KEY (job_id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `failed_jobs`
--
CREATE TABLE failed_jobs (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `connection` TEXT NOT NULL,
  queue TEXT NOT NULL,
  payload LONGTEXT NOT NULL,
  exception LONGTEXT NOT NULL,
  failed_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `comments`
--
CREATE TABLE comments (
  comment_id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  commentable_id BIGINT(20) UNSIGNED NOT NULL DEFAULT 0,
  commentable_type VARCHAR(255) NOT NULL DEFAULT '',
  text MEDIUMTEXT DEFAULT NULL,
  type VARCHAR(191) DEFAULT NULL,
  comment_by VARCHAR(191) DEFAULT NULL,
  title VARCHAR(191) DEFAULT NULL,
  approved TINYINT(1) DEFAULT NULL,
  comment_kids ENUM('foo','bar') NOT NULL,
  comment_parent ENUM('foo','bar') NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  user_id INT(11) NOT NULL,
  PRIMARY KEY (comment_id)
)
ENGINE = INNODB,
AUTO_INCREMENT = 8,
AVG_ROW_LENGTH = 2340,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

--
-- Create table `asks`
--
CREATE TABLE asks (
  id BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  title VARCHAR(191) NOT NULL,
  text MEDIUMTEXT NOT NULL,
  score INT(11) NOT NULL,
  type VARCHAR(191) NOT NULL,
  url VARCHAR(191) NOT NULL,
  descendants INT(11) NOT NULL,
  created_at TIMESTAMP NULL DEFAULT NULL,
  updated_at TIMESTAMP NULL DEFAULT NULL,
  PRIMARY KEY (id)
)
ENGINE = INNODB,
CHARACTER SET utf8mb4,
COLLATE utf8mb4_unicode_ci;

-- 
-- Dumping data for table users
--
INSERT INTO users VALUES
(1, 'Molete', 'motaung.molete@gmail.com', NULL, '$2y$10$rK5FTUVFOPrYWEHNnxUImO.2wYzISyLiT.Ng3N1KBb0YzCn9O6pBi', 0, 0, '0', 'None', NULL, '2020-01-27 06:12:21', '2020-01-27 06:12:21'),
(2, 'Meetup', 'm_motaung@yahoo.com', NULL, '$2y$10$.KAVzgECymoIaE0kzSPJ7OAWi6ITQBTZhj45mtmshT72ALt9xK.o6', 0, 0, '0', 'None', NULL, '2020-01-27 06:19:53', '2020-01-27 06:19:53'),
(3, 'Molete', 'staki@webmail.co.za', NULL, '$2y$10$aqalPilcT8S3CA6eMdcZpu33Cr0LmTqA7g4gQs2c8ipJVGMi3WuUe', 0, 0, '0', 'None', NULL, '2020-01-27 09:59:50', '2020-01-27 09:59:50');

-- 
-- Dumping data for table stories
--
INSERT INTO stories VALUES
(1, 'Ask HN: The Arc Effect', 'Ask HN: The Arc Effect', 23, 'Story', NULL, 23, 'foo', '2020-01-27 06:12:33', '2020-01-27 06:12:33', 1),
(2, 'Ask HN: The Arc Effect', 'Tesh', 23, 'Story', NULL, 23, 'foo', '2020-01-27 06:18:10', '2020-01-27 06:18:10', 1),
(3, 'Ask HN: The Arc Effect', 'Ask HN: The Arc Effect', 34, 'Story', NULL, 34, 'foo', '2020-01-27 06:20:13', '2020-01-27 06:20:34', 2);

-- 
-- Dumping data for table polls
--
-- Table heckernews.polls does not contain any data (it is empty)

-- 
-- Dumping data for table password_resets
--
-- Table heckernews.password_resets does not contain any data (it is empty)

-- 
-- Dumping data for table parts
--
-- Table heckernews.parts does not contain any data (it is empty)

-- 
-- Dumping data for table migrations
--
INSERT INTO migrations VALUES
(44, '2014_10_12_000000_create_users_table', 1),
(45, '2014_10_12_100000_create_password_resets_table', 1),
(46, '2019_08_19_000000_create_failed_jobs_table', 1),
(47, '2020_01_25_234901_create_stories_table', 1),
(48, '2020_01_26_095707_create_comments_table', 1),
(49, '2020_01_26_101414_create_jobs_table', 1),
(50, '2020_01_26_101430_create_polls_table', 1),
(51, '2020_01_26_102439_create_parts_table', 1),
(52, '2020_01_26_113018_add_user_id_to_stories', 1),
(53, '2020_01_26_120750_add_user_id_to_parts', 1),
(54, '2020_01_26_120809_add_user_id_to_polls', 1),
(55, '2020_01_26_120825_add_user_id_to_jobs', 1),
(56, '2020_01_26_120841_add_user_id_to_comments', 1),
(57, '2020_01_27_053436_create_asks_table', 1);

-- 
-- Dumping data for table jobs
--
-- Table heckernews.jobs does not contain any data (it is empty)

-- 
-- Dumping data for table failed_jobs
--
-- Table heckernews.failed_jobs does not contain any data (it is empty)

-- 
-- Dumping data for table comments
--
INSERT INTO comments VALUES
(1, 0, '', 'Ask HN: The Arc Effect', '1', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 08:56:39', '2020-01-27 08:56:39', 1),
(2, 0, '', 'Test again', '3', NULL, 'Test again', NULL, 'foo', 'foo', '2020-01-27 08:57:08', '2020-01-27 08:57:08', 1),
(3, 0, '', 'Ask HN: The Arc Effect', 'Question', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 09:03:02', '2020-01-27 09:03:02', 1),
(4, 0, '', 'werewrwer', 'Job', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 09:11:34', '2020-01-27 09:11:34', 1),
(5, 0, '', 'Ask HN: The Arc Effect', 'Job', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 09:16:02', '2020-01-27 09:16:02', 1),
(6, 0, '', 'Ask HN: The Arc Effect', 'Question', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 09:17:11', '2020-01-27 09:17:11', 1),
(7, 0, '', 'Ask HN: The Arc Effect', 'Question', NULL, 'Ask HN: The Arc Effect', NULL, 'foo', 'foo', '2020-01-27 10:00:04', '2020-01-27 10:00:04', 3);

-- 
-- Dumping data for table asks
--
-- Table heckernews.asks does not contain any data (it is empty)

-- 
-- Restore previous SQL mode
-- 
/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;

-- 
-- Enable foreign keys
-- 
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;